\section{Группы}

В этом параграфе мы сделаем огромный шаг в направлении абстрактной математика. Это будет сложно и не понятно, но если вы это освоите, то всё остальное пойдёт уже в разы легче. Мотивация для введения всех этих вещей будет уже в~\S4.5.

\begin{definition}
	Множество с заданной на нём ассоциативной операцией называется \term{полугруппой}.
\end{definition}

\begin{definition}
	Если полугруппа имеет нейтральный элемент, то она называется \term{моноидом}.
\end{definition}

\begin{definition}
	\term{Группой} называется полугруппа, в которой есть нейтральный элемент, и каждый элемент имеет обратный.
\end{definition}

\begin{definition}
	Если бинарная операция группы коммутативна, то группа называется \term{абелевой} (реже просто \term{коммутативной}).
\end{definition}

\begin{definition}
	Подмножество $H$ группы $G$, само являющееся группой относительно той же бинарной операции, называется \term{подгруппой}. Обозначается это как $H<G$.
\end{definition}

\begin{definition}
	\term{Порядком группы} называется мощность множества, на котором она определена. Обозначение то же, что и для множеств: $|G|$.
\end{definition}

\begin{definition}
	\term{Порядком элемента $x$} называется такое $n$, что $x^n = 1$. Обозначение $|x| = n$.
\end{definition}

Аналогично можно определить подмоноиды, подполугруппы, дальше у нас появятся кольца и соответственно подкольца, поля и подполя, модули и подмодули и так далее. Мы не будем каждый раз вводить отдельное определение, считая значение приставки <<под>> очевидным.

Из всего сказанного нас будут главным образом интересовать группы. Абелевы группы кажутся очень удобными, но на практике с ними мы сталкиваться будем куда реже, чем с группами, операция которых некоммутативна. К тому же большинство абелевых групп, в отличие от неабелевых, очень просто устроено и мы это устройство изучим.

Бинарную операцию на группе будем пока записывать в мультипликативной форме, поскольку большинство примеров этого параграфа обычно используются в литературе именно в такой форме записи.

\begin{example}
	\term{Тривиальной} группой называется группа, состоящая из единственного элемента, являющегося нейтральным.
\end{example}

\begin{example}
	Множество $S_n$ перестановок $n$-элементного множества, образует группу относительно композиции с некоммутативной операцией. Эта группа называется \term{симметрической} (название происходит из геометрии, где перестановка вершин объектов определяет их симметрии; об этом мы будем говорить позже). Более общо множество биекций вида $X\to X$ на произвольном множестве $X$ (не обязательно конечном) так же образуют группу, которая обозначается как $S(X)$.
\end{example}

\begin{example}
	Множество чётных перестановок в группе $S_n$ образует её подгруппу. Эта группа обозначается как $A_n$ и называется \term{знакопеременной группой}.
\end{example}

\begin{example}
	По теореме \ref{thm:symgrpord} $|S_n| = n!$ и по упражнению \ref{ex:sgnpermgrp}, $|A_n| = \frac{n!}{2}$.
\end{example}

\begin{exercise}
	\term{Функцией Ландау} называется функция
	\[
	g(n) = \max_{x\in S_n} |x|
	\]
	Докажите, что
	\[
	g(n) = \max_{c_1+\ldots+c_n = n} \lcm\{c_1, c_2, \ldots, c_n\}
	\]
\end{exercise}

\begin{example}
	В таблице \ref{tb:v4} приведена \term{четвёртая группа Клейна} $V_4$.
\end{example}

\begin{table}[h]
	\centering
	\begin{tabular}{c|cccc}
		& $1$ & $a$ & $b$ & $c$ \\ 
		\hline $1$ & $1$ & $a$ & $b$ & $c$ \\ 
		$a$ & $a$ & $1$ & $c$ & $b$ \\ 
		$b$ & $b$ & $c$ & $1$ & $a$ \\ 
		$c$ & $c$ & $b$ & $a$ & $1$ \\ 
	\end{tabular}
	\caption{Четвёртая группа Клейна $V_4$}\label{tb:v4}
\end{table}

\begin{exercise}
	Докажите, что $V_4$ действительно задаёт группу.
\end{exercise}

\begin{example}
	Таблицы \ref{tb:cmplxgrp} и \ref{tb:qtgrp}, если я нигде не ошибся при заполнении, определяют группы на множествах $\{1, -1, i, -i\}$ и $\{1, -1, i, -i, j, -j, k, -k\}$ соответственно. Запоминать эти таблицы совершенно не нужно, эти группы мы рассмотрим далее отдельно в несколько другом контексте. Чтобы увидеть, что таблицы задают действительно группы, достаточно заметить соотношение $i^2 = j^2 = k^2 = ijk = -1$ и вывести отсюда все тождества, определяемые таблицей. Группа комплексных единиц является подгруппой группы кватернионных единиц. Интересно, что при этом умножение комплексных единиц коммутативно, а кватернионных единиц - нет.
\end{example}

\begin{table}[h]
	\centering
	\begin{tabular}{c|cccc}
		& $1$ & $-1$ & $i$ & $-i$ \\ 
		\hline $1$ & $1$ & $-1$ & $i$ & $-i$ \\ 
		$-1$ & $-1$ & $1$ & $-i$ & $i$ \\ 
		$i$ & $i$ & $-i$ & $-1$ & $1$ \\ 
		$-i$ & $-i$ & $i$ & $1$ & $-1$ \\ 
	\end{tabular} 
	\caption{Группа комплексных единиц}\label{tb:cmplxgrp}
\end{table}

\begin{table}[h]
	\centering
	\begin{tabular}{c|cccccccc}
		& $1$ & $-1$ & $i$ & $-i$ & $j$ & $-j$ & $k$ & $-k$ \\ 
		\hline $1$ & $1$ & $-1$ & $i$ & $-i$ & $j$ & $-j$ & $k$ & $-k$  \\ 
		$-1$ & $-1$ & $1$&$-i$ &$i$ & $-j$ & $j$ & $-k$ & $k$ \\ 
		$i$ & $i$ & $-i$ & $-1$ & $1$ & $k$& $-k$ & $-j$ & $j$ \\ 
		$-i$ & $-i$ & $i$ & $1$ & $-1$ & $-k$& $k$ & $j$ & $-j$ \\ 
		$j$ & $j$ & $-j$ & $-k$ &$k$ & $-1$& $1$ & $i$ & $-i$ \\ 
		$-j$ & $-j$ & $j$ & $k$ &$-k$ & $1$& $-1$ & $-i$ & $i$ \\ 
		$k$ & $k$ & $-k$ & $j$ & $-j$ &$-i$ & $i$  & $1$ &$-1$  \\ 
		$-k$ & $-k$ & $k$ & $-j$ & $j$ &$i$ & $-i$  & $-1$ &$1$  \\ 
	\end{tabular}
	\caption{Группа кватернионных единиц}\label{tb:qtgrp}
\end{table}

\begin{definition}
	Пусть $G$ и $H$~--- группы. \term{Прямым произведением групп} называется их прямое произведение $G\times H$ как множеств с заданной бинарной операцией
	\[
	(a, b) \cdot (c, d) = (ac, bd)
	\]
\end{definition}

\begin{exercise}
	Докажите, что прямое произведение групп является группой.
\end{exercise}

\begin{thm}
	В любой группе $(ab)^{-1}=b^{-1}a^{-1}$.
\end{thm}
\begin{proof}
	\[
	(ab)(b^{-1}a^{-1}) = a(bb^{-1})a^{-1} = aa^{-1} = 1
	\]
\end{proof}

\begin{exercise}
	Докажите, что если в группе для любого элемента верно $x^2 = 1$, то эта группа коммутативная.
\end{exercise}

Обратите внимание, что формулировка теоремы, как и её доказательство, полностью дублируют теорему~\ref{thm:perminv} для перестановок. Таким образом мы ту теорему смогли обобщить на случай произвольных групп. Ещё один плюс абстракции, хоть и опять довольно слабенький.

\begin{exercise}
	Докажите, что множество обратимых элементов моноида образует группу.
\end{exercise}

\begin{exercise}\label{ex:grpint}
	Даны группы $G$ и $H$, пересекающиеся как множества. Более того, на пересечении $G\cap H$ их операции совпадают. Докажите, что $G\cap H$~--- группа. Докажите, что это же верно для пересечения произвольного семейства групп, в том числе бесконечного.
\end{exercise}

\begin{example}
	Пусть $\Sigma$~--- произвольное множество, которое мы назовём алфавитом. Конечную последовательность символов этого алфавита будем называть словом, в полной аналогии с тем, как мы делали это при формальном определении логических выражений. Если на множестве слов задать операцию конкатенации, то полученная структура будет являться моноидом. Нейтральном элементом этого моноида будет пустая строка. Символы алфавита $\Sigma$ называются \term{генераторами} моноида. Моноид, построенный таким образом, называется \term{свободным}. Слово <<свободный>> в данном случае имеет смысл <<без ограничений>>.
\end{example}

\begin{example}
	Пример умножения в моноиде с генераторами $\Sigma=\{a, b\}$:
	\[
	abbba\cdot ab = abbbaab
	\]
\end{example}

Для удобства так же несколько идущих подряд символов можно записывать, указав просто число повторений сверху:
\[
abbbaab = ab^3a^2b
\]

\begin{example}
	По аналогии со свободным моноидом можно построить \term{свободную группу}. Конструкция отличается тем, что для каждого символа $x$ алфавита $\Sigma$ мы добавляем так же \term{противоположный} символ $x^{-1}$, связанный с $x$ соотношением $xx^{-1}=x^{-1}x=1$. Обозначается такая группа как $F_\Sigma$. Пример ниже показывает умножение в группе $F_{\{a, b\}}$:
	\[
	ab^{-3}a^2\cdot a^{-2}b^2ab = ab^{-1}ab
	\]
\end{example}

Пусть задана группа помимо того, что $xx^{-1}=1$, какие-то ещё слова над алфавитом группы сокращаются. Полученное множество слов так же определяет группу (докажите это). Например, если $a, b, c$~--- буквы $S$, а $w, t$~--- слова этого алфавита, то группа, полученная путём <<сокращения>> этих слов в $F_S$ обозначается как $<a, b, c | w = t = 1>$.

\begin{example}
	Группа $<g|g^n = 1>$ называется \term{циклической группой порядка $n$} и обозначается как $Z_n$.
\end{example}

\begin{example}
	Рассмотрим $Z_{30}$. В этой группе $g^{15}g^{20} = g^5$.
\end{example}

\begin{exercise}
	Докажите, что
	\[
	V_4 = <a, b | a^2 = b^2 = (ab)^2 = 1>
	\]
\end{exercise}

\begin{thm}
	Пусть $A\subset G$~--- произвольное подмножество группы $G$. Тогда однозначно определена подгруппа $G$, наименьшая по размеру, содержащая $A$ как подмножество.
\end{thm}
\begin{proof}
	Рассмотрим семейство всех подгрупп $G$, содержащих $A$. По результату упражнения \ref{ex:grpint} пересечение всех групп этого семейства будет снова группой. Очевидно, что это наименьшая подгруппа $G$, содержащая $A$.
\end{proof}

\begin{thm}
	Пусть $G$~--- произвольная группа, и $x$~--- её элемент. Тогда подгруппа $<x>$ будет либо свободной группой одного элемента, либо циклической (таким образом произвольная конечная группа всегда содержит в себе циклическую подгруппу).
\end{thm}
\begin{proof}
	Начнём строить последовательность $x, x^2, x^3, \ldots$ Здесь есть два варианта: либо элементы последовательности всегда будут различны, либо встретятся повторяющиеся.
	
	Если найдутся такие числа $k<n$, что $x^k = x^n$, то умножив это равенство с обоих сторон на $x^{-k}$, получим $1 = x^{n-k}$. Это значит, что элементы нашей последовательности будут повторяться циклически:
	\[
	x, x^2, x^3, x^4, \ldots, x^{n-k-1}, 1, x, x^2, x^3, \ldots
	\]
	Произведение любых двух элементов этой последовательности даёт так же элемент этой последовательности:
	\[
	x^a x^b = x^{a + b} = x^{(a+b)\Mod (n-k)}
	\]
	Здесь $\Mod$ обозначает остаток от деления. Обратным элементом для $x^a$ будет являться $x^{a+n-k}$. Таким образом элементы $1, x, x^2, \ldots, x^{n-k-1}$ образуют циклическую группу. Очевидно, что это наименьшая подгруппа $G$, содержащая $x$.
	
	Если же элементы последовательности $x, x^2, \ldots$ все будут различны, то подгруппа $<x>$ будет так же содержать обратные элементы $x^{-1}, x^{-2}, \ldots$ и нейтральный элемент 1. Но это в точности свободная группа $F_{\{x\}}$.
\end{proof}

\begin{definition}
	Отображение групп $h:G\to H$ называется \term{гомоморфизмом}, если $h(ab) = h(a)h(b)$. Если гомоморфизм инъективен, то он называется \term{мономорфизмом}, если сюръективен~--- \term{эпиморфизмом}, если биективен~--- изоморфизмом. Гомоморфизмы вида $h:G\to G$ (то есть группы в саму себя) называются \term{автоморфизмами}.
\end{definition}

\begin{definition}
	Если между группами $G$ и $H$ существует изоморфизм, то они называются \term{изоморфными}, что обозначается как $G\cong H$.
\end{definition}

Эти определения в принципе подходят не только для групп, но и так же для моноидов, полугрупп, а далее мы расширим его до колец, полей и всех прочих пространств. Идея, заложенная в этом определении очень общая, и мы постоянно будем ею пользоваться.

\begin{thm}
	Гомоморфоизмы отображают нейтральный элемент в нейтральный и обратные элементы в обратные.
\end{thm}
\begin{proof}
	\[
	h(x) = h(1x) = h(1)h(x)
	\]
	Таким образом видно, что $h(1)$ является нейтральным элементом для $h(x)$. Аналогично доказывается и то что $h(x^{-1})=h(x)^{-1}$:
	\[
	h(1) = h(xx^{-1}) = h(x)h(x^{-1})
	\]
\end{proof}

Гомоморфизмы групп показывают взаимосвязь между ними. В некотором смысле можно сказать, что гомоморфизм просто <<переименовывает>> элементы группы. В случае изоморфизма это имеет практически буквальный смысл: если взять таблицы Кэли групп $G\cong H$ и переименовать в одной из таблиц все символы так, как этого требует изоморфизм, мы получим две одинаковые таблицы.

\begin{definition}
	\term{Ядром} гомоморфизма называется множество $\{x\in G|h(x) = 1\}$.
\end{definition}

\begin{exercise}
	Докажите, что образ и ядро гомоморфизма $h:G\to H$ являются подгруппами $H$ и $G$ соответственно.
\end{exercise}

Если существует мономорфизм $h:G\to H$, то это значит, что подгруппа $h(G)<H$ изоморфна $G$. Часто мы будем говорить в таком случае, что группа $G$ <<вкладывается>> в $H$. Выше мы говорили, что группа комплексных единиц <<является подгруппой>> группы кватернионных единиц. В действительности одно совершенно не является подгруппой другого, но между ними существует мономорфизм. То есть комплексные единицы <<вкладываются>> в кватернионные. Иногда, впрочем, мы будем допускать вольность речи, и говорить в подобных случаях, что они являются <<подгруппой>>, хотя с формальной точки зрения это и не верно.

\begin{exercise}
	Докажите, что отношение <<быть изоморфными>> является отношением эквивалентности (считая, что нам задано некоторое множество групп).
\end{exercise}

\begin{exercise}
	Докажите, что отношения <<существует эпиморфизм>> и <<существует мономорфизм>> задают предпорядок на заданном семействе групп.
\end{exercise}

\begin{example}
	Группа комплексных единиц изоморфна $Z_4$. Это легко увидеть, если попробовать построить подгруппу $<i>$:
	\begin{align*}
	& i = i\\
	i\cdot & i = -1\\
	-1\cdot & i = -i\\
	-i\cdot& i = 1
	\end{align*}
	Таким образом $h(i) = g$, $h(-1) = g^2$, $h(-i) = g^3$.
\end{example}

\begin{exercise}
	Докажите, что $V_4\cong Z_2\times Z_2$.
\end{exercise}

\begin{exercise}
	Постройте эпиморфизм $h:S_n\to Z_2$.
\end{exercise}

\begin{exercise}
	Докажите, что $Z_6\cong Z_2\times Z_3$.
\end{exercise}

\begin{definition}
	$G$ называется \term{группой действий над множеством M}, если существует гомоморфизм $h:G\to S(M)$.
\end{definition}

То есть группа действий~--- это группа, элементам которой соответствуют некоторые биективные преобразования множества $M$. Интересно, что любая группа является группой действий. Если разглядывать таблицы \ref{tb:v4}, \ref{tb:cmplxgrp} и \ref{tb:qtgrp}, то можно заметить, что каждая строка и каждый столбец этих таблиц~--- это некоторая перестановка элементов группы. Осталось формализовать и доказать это соображение.

\begin{thm}\label{thm:keli}
	Любая группа $G$ является группой действий над $G$ как над множеством. В частности, любая конечная группа порядка $n$ вкладывается в $S_n$.
\end{thm}
\begin{proof}
	Достаточно показать, что для любого $g\in G$ отображение $x\mapsto gx$ является биекцией. Предположим, что всё таки это не биекция и что различные элементы $x_1$ и $x_2$ отображаются в один элемент: $gx_1 = gx_2$. Однако, есть теперь умножить это равенство слева на $g^{-1}$, получим $x_1 = x_2$. Полученное противоречие доказывает теорему.
\end{proof}

Эта теорема не очень полезна на практике. Группа кватернионных единиц имеет порядок 8, но в то же время теорема \ref{thm:keli} лишь позволяет утверждать, что она вкладывается в группу $S_8$, порядок которой $8!=40320$. То есть какой-то реальной информации мы получили мало. В то же время само представление о том, что каждая группа~--- это подмножество какой-то группы перестановок, может помогать интуиции. По крайней мере теперь группы уже не должны выглядеть совсем уж абстрактными~--- мы всегда знаем, что их элементы могут быть интерпретированы как некоторые преобразования множеств. В худшем случае, как преобразования самого множества, на котором группа задаётся.

Мы могли бы рассматривать не группы действий, а моноиды действий, и иногда это полезно. Представим себе, что некоторый объект может находиться в каждый момент времени в каком-то одном состоянии. Множество его состояний~--- это множество $M$. Каждое конкретное действие переводит этот объект из одного состояния в другое. Простейший пример~--- компьютерная программа. При нажатии на клавиши программа переходит из одного состояния в другое. Все возможные состояния программы образуют множество $M$. Клавиши компьютера образуют алфавит $\Sigma$. Множество всех последовательностей нажатия на клавиши обозначим как $A$ (это фактически слова, составленные из символов алфавита $\Sigma$). Будем считать, что две последовательности из $A$ эквивалентны, если они всегда имеют одинаковый эффект в программе. Если мы факторизуем $A$ по этому отношению, то получим в точности множество всех возможных действий на $M$. Это и есть наш моноид действий.

В данном контексте разница между моноидом и группой такая, что если мы имеем группу действий, то любое действие может быть обратимо, так как в группе всегда есть обратный элемент. Если же наши действия в программе образуют лишь моноид, то может существовать такая последовательность нажатия на клавиши, что программа уже никогда не сможет вернуться в исходное состояние.

Именно моноиды действий лежат в основе концепции \term{конечных автоматов}, которые очень популярны в информатике. Конечный автомат~--- это абстракция примитивной машины, которая имеет конечное число внутренних состояний, которые по известному правилу могут меняться при поступлении в автомат символов некоторого алфавита $\Sigma$. В информатике конечные автоматы рассматривают как какое-то самостоятельное понятие и определяют через функцию $\Sigma\times M\to M$ изменения состояний при вводе символов. В действительности конечные автоматы~--- это всего лишь частный случай моноида действий. В качестве моноида тут выступают слова над $\Sigma$, в качестве множества $M$~--- состояния автомата.

Если у автомата задать начальное и конечное состояние, то можно говорить о том, что некоторые слова приводят автомат в конечное положение, а некоторые нет. Таким образом с помощью автоматов можно определять множества слов, то есть языки (я не буду вдаваться в подробности, но такое описание языков менее выразительно, нежели контекстно-свободные грамматики).

Следующие два упражнения не обязательны.

\begin{exercise}
	Пусть конечный автомат имеет $n$ состояний и он принимает некоторое слово длинной $n$ или больше. Докажите, что в этом случае в этом слове есть такой участок, который можно либо вообще выкинуть, либо повторить произвольное число раз, и автомат по-прежнему будет принимать это слово. В частности, если автомат принимает хотя бы одно слово длиннее $n-1$, то язык, который он принимает, бесконечен. (Подсказка: нарисуйте состояния автомата и переходы между ними в виде графа).
\end{exercise}

\begin{exercise}
	Пусть автомат принимает на вход десятичные цифры, а его состояния~--- это числа от 0 до наперёд заданного $k$. Если автомат находится в состоянии $s$, то принимая на вход цифру $x$, он переходит в состояние $10s + x \Mod k$. Начальным и конечным автоматом является состояние 0. Докажите, что этот автомат принимает на вход в точности числа, делящиеся на $k$.
\end{exercise}

Эти упражнения показывают интересное явление: если число $w$ делится на $k$ и имеет по крайней мере $n>k$ цифр, то число $10^{k-1}w + w$ так же делится на $k$.