\section{Бинарные операции}

\begin{definition}
\term{Бинарной операцией} называется функция вида $X\times X\to X$, где $X$~--- произвольное множество. 
\end{definition}

\begin{example}
Операции сложения, умножения и возведения в степень натуральных чисел являются бинарными операциями на $\mathbb{N}$. Рассмотренные нами в первой главе логические операции (кроме отрицания) являются бинарными операциями на $\{0,1\}$. Произведение перестановок и в общем композиция функций вида $X\to X$ являются бинарными операциями.
\end{example}

\begin{example}
Вычитание и деление натуральных чисел не являются бинарными операциями, поскольку они определены не для всех элементов $\mathbb{N}$, что противоречит определению.
\end{example}

\begin{example}
Операции над множествами так же не являются бинарными операциями, поскольку эти операции определены для любой пары множеств, но множества всех множеств не существует. Бинарная же операция с точки зрения алгебры должна быть определена именно на множестве. Однако, если рассматривать лишь множества из некоторого универсума (то есть являющиеся подмножествами изначально заданного множества), то операции вроде объединения и пересечения станут бинарными операциями.
\end{example}

В алгебре рассматриваются не только бинарные операции, но и в общем-то любые другие, однако как видно из прошлых частей, именно бинарные операции встречаются наиболее часто. Поэтому мы останавливаемся подробно только на них.

Бинарные операции удобно записывать не как функции ($f(x, y)$), а так, как мы делали это всегда для операций и как мы поступали в случае отношений: указывая символ операции между её аргументами: $xfy$. Использовать для этого конечно удобнее не буквы алфавита, а какие-то специальные символы вроде $+$, $-$ и $\land$.


В случае, если используется $+$, то говорят, что операция записывается в \term{аддитивной} форме. Если аргументы записываются подряд как при умножении ($xy$) или разделяются точкой ($x\cdot y$), то говорят о \term{мультипликативной} форме записи. Конечно же аддитивная форма должна использовать в случаях, когда операция чем-то похожа на простое сложение, а мультипликативная, когда на умножение. В параграфе~4.3 мы придадим более точный смысл этим словам.

В этом параграфе для обозначения бинарных операций мы будем использовать символы $\heartsuit$ и $\spadesuit$, чтобы подчеркнуть, что речь идёт о самых общих бинарных операциях, а не о каких-то конкретных. Для краткости мы будем так же часто опускать слово <<бинарная>> и будем говорить просто об операциях, поскольку ничего кроме бинарных операций у нас пока не предвидится.

Бинарные операции в общем виде на самом деле не слишком интересны. Интересны они становятся в случаях, когда они обладают какими-то дополнительными свойствами.

\begin{definition}
Операция $\heartsuit$ называется \term{ассоциативной}, если
$$x\heartsuit(y\heartsuit z) = (x\heartsuit y)\heartsuit z$$
\end{definition}

\begin{example}
Операции сложения и умножения чисел ассоциативны, а вот возведение в степень~--- нет.
\end{example}

\begin{thm}\label{th:alg_assoc}
Для ассоциативной операции $\heartsuit$ результат вычисления
$$x_1\heartsuit x_2\heartsuit\ldots\heartsuit x_n$$
не зависит от порядка вычисления операций. Другими словами вне зависимости от того как расставить скобки, результат вычисления будет одинаковым.
\end{thm}
\begin{proof}
Доказательство полностью аналогично доказательству по индукции из примера \ref{ex:naturals_assoc}, с той лишь разницей, что теперь мы умножение заменяем на абстрактное $\heartsuit$.
\end{proof}

Теорема \ref{th:alg_assoc} напрашивалась на формулировку уже давно, но у нас не было для этого подходящего инструментария. То что скобки можно расставлять в произвольном порядке мы упоминали для очень многих операций, начиная логикой и заканчивая арифметикой. Однако до введения абстрактного определения <<ассоциативная операция>> формально мы должны были доказывать эту теорему в каждом отдельном случае. Теперь же, когда мы не говорим о конкретной операции, эта теорема стала универсальной. Думаю, хоть слабенькую мотивацию для абстрактный определений этого параграфа это даёт. Далее вы увидите, что на такой абстрактной базе можно развить довольно крутую теорию.

\begin{definition}
Операция $\heartsuit$ называется \term{коммутативной}, если $x\heartsuit y = y\heartsuit x$.
\end{definition}

\begin{example}
Операции сложения и умножения чисел коммутативны, а возведение в степень~--- нет. Произведение перестановок так же некоммутативно.
\end{example}

Хотя на первый взгляд коммутативность~--- удобное свойства, большинство операций, которые мы будем рассматривать, коммутативными не будут. Более того, удивительным образом именно из отсутствия коммутативности будут следовать их интересные и полезные свойства.

\begin{definition}
Элемент $e_L$ называется левым нейтральным относительно операции $\heartsuit$, если $e_L\heartsuit x = x$. Аналогично определяется \term{правый нейтральный} элемент $e_R$. Если элемент является одновременно и правым и левым нейтральным, то он называется \term{нейтральным}.
\end{definition}

\begin{example}
0 является нейтральным элементном относительно сложения, 1 относительно умножения чисел. 1 является правым нейтральным элементом относительно возведения в степень, но не является левым нейтральным.
\end{example}

Очевидно, что для коммутативных операций разницы между левыми и правыми нейтральными элементами нет никакой.

\begin{thm}
Если для операции $\heartsuit$ существует и правый, и левый нейтральные элементы, то они во-первых совпадают, а во-вторых этот элемент единственен.
\end{thm}
\begin{proof}
С одной стороны, поскольку $e_L$ левый нейтральный, то
$$e_L\heartsuit e_R = e_R$$
Но с другой стороны, так как $e_R$ правый нейтральный, то
$$e_L\heartsuit e_R = e_L$$
Значит $e_R=e_L$ и этот элемент нейтрален. Аналогично доказывается единственность нейтрального элемента, если предположить существование нейтральных элементов $e_1$ и $e_2$ и рассмотреть выражение $e_1\heartsuit e_2$. 
\end{proof}

Обращу внимание, что если существуют только правые нейтральные элементы, или только левые, то их может быть несколько. Пример такой операции приведён в таблице \ref{tb:alg_2neutr}. Такие таблицы называются \term{таблицами Кэли} и они довольно наглядны в учебных целях, хотя совершенно бесполезны на практике: чаще всего мы будем работать либо с бесконечными множествами и операциями на них, либо с классами множеств и операций.

\begin{table}[h]\label{tb:alg_2neutr}
\centering
\begin{tabular}{c|cccc}
$\heartsuit$ & $a$ & $b$ & $e_1$ & $e_2$ \\
\hline
$a$ & $a$ & $a$ & $a$ & $a$ \\
$b$ & $b$ & $a$ & $b$ & $b$ \\
$e_1$ & $b$ & $b$ & $e_1$ & $e_1$ \\
$e_2$ & $a$ & $b$ & $e_2$ & $e_2$
\end{tabular}
\caption{Операция с двумя нейтральными элементами}
\end{table}

В дальнейшем все операции, которые будут представлять для нас интерес с алгебраической стороны, либо не будут иметь никаких нейтральных элементов вообще, либо будут иметь единственный нейтральный элемент. Поэтому изложенное выше в принципе не особо важно для нас, я это рассказал в качестве упражнения для ума и для полноты картины.

\begin{exercise}
Придумайте какую-нибудь коммутативную операцию на каком-нибудь конечном множестве. Нарисуйте для этой операции таблицу Кэли. Каким свойством обладают таблицы Кэли для коммутативных операций?
\end{exercise}

Я думаю это упражнение покажется вам довольно простым, но оно скорее всего возбудит так же в вашем сознании вопрос: а можно ли по внешнему виду таблицы Кэли определить, является ли операция ассоциативной? Увы, ответ тут негативный, вам придётся перебирать все значения (вернее, есть методы, позволяющие сократить перебор, но незначительно). Однако, это не особо большая беда, поскольку в явном виде операции почти никогда не задаются, так что ассоциативность или её отсутствие чаще всего видны из каких-то сторонних соображений.

\begin{definition}
Элемент $x$ называется \term{левым обратным} к $y$ относительно операции $\heartsuit$, если
$x\heartsuit y = e$, 
где $e$~--- нейтральный элемент. Аналогично вводится понятие \term{правого обратного элемента}. Если элемент является одновременно и правым и левым обратным, то он называется просто \term{обратным}.
\end{definition}

Обратите внимание, что если $x$~--- левый обратный к $y$, то $y$ автоматически является правым обратным для $x$. Нас, в прочем, будут опять же главном образом интересовать лишь те операции, где обратные элементы единственны и одновременно и левые, и правые. Понятно так же, что для коммутативных операций значение правых и левых обратных элементов растворяется.

\begin{exercise}
Среди рассмотренных нами ранее операций лишь не многие имели обратные элементы. Приведите примеры.
\end{exercise}

\begin{exercise}
Придумайте бинарную операцию на каком-либо множестве, такую, что для неё существует элемент, обладающими несколькими различными левыми и несколькими различными правыми обратными элементами.
\end{exercise}

\begin{exercise}
Докажите, что для ассоциативных операций, если элемент имеет и правый и левый обратный элемент, то они совпадают, и этот элемент единственен.
\end{exercise}

\begin{definition}
Операция $\heartsuit$ называется \term{дистрибутивной слева} относительно операции $\spadesuit$, если
$$x\heartsuit (y\spadesuit z) = (x\heartsuit y) \spadesuit (x \heartsuit z)$$
Аналогично определяется \term{дистрибутивность справа}. Если операция дистрибутивна и справа и слева, то говорят просто о \term{дистрибутивности}.
\end{definition}

\begin{example}
Умножение дистрибутивно относительно сложения и разности. Объединение и пересечение множеств, а так же конъюнкция и дизъюнкция дистрибутивны относительно друг друга.
\end{example}