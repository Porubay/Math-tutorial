\section{Другие логики}

Та логика, которую мы рассматривали до сих пор, сама по себе на самом деле не имеет никакой монополии на то, чтобы быть единственно верной. Она удобна и правдоподобна почти во всех ветвях математики, однако помимо неё существует множество других разновидностей логики. В этом параграфе мы ознакомимся с некоторыми из них очень кратко и главным образом неформально, исключительно для того, чтобы у читателя сложилось какое-то впечатление. В дальнейшем эта логика нам в курсе не понадобится (кроме единичных необязательных задач), так что даже без этого параграфа дальнейший материал будет понятен. Однако краткий неформальный экскурс в различные ветви формальной логики может быть полезен для кругозора и приятен для ума.

Всё что мы рассматривали до сих пор называется \term{классической логикой}, которая характеризуется правилами вывода, приведёнными в таблице~1.10 (а так же правила обобщения и сведения к частному для кванторов, что мы пока договорились отложить на время). Внутри самой классической логики так же есть градация: если не рассматривать кванторы, то такая логика будет называться \term{логикой высказываний}, а вместе с кванторами она называется \term{логикой первого порядка}. Эта логика допускает выражения вида $\forall x, P(x)$, но не допускает выражений $\forall P, P(x)$. Если допустить последнее (то есть разрешить не только выражения типа <<для любого объекта $x$>>, но и выражения <<для любого предиката $P$>>), то такая логика будет называться \term{логикой второго порядка}. Но всё это разновидности классической логики. В математике практически всегда дело ограничивается классической логикой первого порядка.

В этой главе у нас пойдёт речь о неклассической логике. Простейший пример, когда возникает нужда в такой логике~--- это компьютерные базы данных. Базу данных можно представить себе как набор таблиц с какой-то информацией. Для определённости будем считать, что мы имеем таблицу участников накопительной программы в косметическом салоне. Среди прочих данных в таблице участников имеется графа <<возраст>>, который участники программы могут сообщать, а могут и нет. То есть эта графа может быть пустой. Это вполне реальная ситуация и любая база данных обычно имеет специально выделенное значение \texttt{NULL}, которым забиваются те данные, которыми мы не располагаем или которые вообще не определены.

Пусть предикат $Y(a, b)$ означает, что участник акции $a$ моложе участника акции $b$. Этот предикат не вызывает вопросов до тех пор, пока мы сравниваем участников, которые сообщили возраст. А что должна вывести программа, если мы задали ей вычислить этот предикат для участников, которые свой возраст не сообщили? Значение этого предиката не определено и мы приходим к необходимости помимо истины (1) и лжи (0) ввести так же понятие неопределённости ($U$) в нашу логику.

Когда мы ввели новое логическое значение, мы должны определить как с этим значением будут работать логические операции. Сделать это возможно многими способами, самый простой и естественный из которых называется \term{логикой Клини} и именно она чаще всего реализована в базах данных. Чаще всего в учебниках для программистов на неё ссылаются просто как на \term{тернарную (или третичную) логику}, но это не совсем корректно: тернарной логикой называется любая логика, в которой есть три значения истинности. Значения истинности приведены в таблицах 1.10, 1.11, 1.12 и 1.13.

\begin{table}[h]
\centering
\begin{tabular}{c | c}
$a$ & $\neg b$ \\
\hline
0 & 1 \\
U & U\\
1 & 0
\end{tabular}
\caption{Связка <<НЕ>> в логике Клини}\label{table:kleene-not}
\end{table}

\begin{table}[h]
\centering
\begin{tabular}{c | c c c}
$\land$ & 0 &U &1 \\
\hline
0 & 0 & 0 & 0 \\
U & 0 & U & U\\
1 & 0 & U & 1
\end{tabular}
\caption{Связка <<И>> в логике Клини}\label{table:kleene-and}
\end{table}

\begin{table}[h]
\centering
\begin{tabular}{c | c c c}
$\lor$ & 0 &U &1 \\
\hline
0 & 0 & U & 1 \\
U & U & U & 1\\
1 & 1 & 1 & 1
\end{tabular}
\caption{Связка <<ИЛИ>> в логике Клини}\label{table:kleene-or}
\end{table}

\begin{table}[h]
\centering
\begin{tabular}{c | c c c}
$\to$ & 0& U& 1 \\
\hline
0 & 1 & 1 & 1 \\
U & U & U & 1\\
1 & 0 & U & 1
\end{tabular}
\caption{Импликация в логике Клини}\label{table:kleene-or}
\end{table}

Проработайте эти таблицы и попытайтесь понять почему они именно такие, а не какие-то другие.

Однако надо иметь ввиду, что это не единственный вариант тернарной логики. Самый распространённый альтернативный вариант~--- это \term{логика Лукаcевича}, которая отличается от логики Клини лишь тождеством $U\to U = 1$. Проблема логики Клини в том, что никакое предложение в нём не может быть всегда истинным. Например, в классической логике мы имели полезнейший закон де Моргана
$$\neg(a \land b) \leftrightarrow \neg a \lor \neg b$$
а в логике Клини он уже не работает, если вспомнить, что эквивалентность задаётся как
$$(a \leftrightarrow b) = (a\to b)\land (b\to a)$$
Более того: в логике Клини нет вообще ни одной тавтологии. Логика же Лукасевича хоть и не сохраняет все законы классической логики (это было бы и невозможно), она по крайней мере сохраняет часть тавтологий.

\begin{exercise}
Докажите в логике Лукасевича, что
$$(a\lor b) \leftrightarrow (a \to b) \to b$$
\end{exercise}

\begin{exercise}
Докажите в логике Лукасечива закон де Моргана.
\end{exercise}

\begin{exercise}
Докажите в логике Лукасевича закон двойного отрицания
$$\neg\neg a = a$$
\end{exercise}

\begin{exercise}
Докажите, что в логике Лукасевича не работает закон исключённого третьего
$$a\lor \neg a = 1$$
\end{exercise}

\begin{exercise}
Докажите, что в логике Лукасевича не работает закон противоречия
$$a\land \neg a = 0$$
\end{exercise}

\begin{exercise}
Докажите, что в логике Клини нет ни одной тавтологии, использующей только переменные и приведённые логические операции (если мы будем вводить новые операции, то мы очевидно можем подогнать тавтологии под бесполезные операции~--- это не интересно совершенно).
\end{exercise}

\begin{exercise}
Не смотря на то, что логика Клини не имеет тавтологий, она допускает естественные правила вывода.Покажите, например, что сохраняется правило дедукции
$$p, p\to q\vdash q$$
\end{exercise}

В классической логике и логиках Клини и Лукасевича мы задали сами логические значения и правила, которыми они связаны. На самом деле мы могли бы задать совершенно произвольные логические значения и функции, лишь бы они были нам как-то полезны. Такой подход называется \term{семантическим}, поскольку мы изначально отталкиваемся от конкретного содержания логики, и лишь затем строим правила логического вывода.

Тем не менее, этот подход не лишён недостатков, одним из которых является то, что часто конкретные логические значения, которые может принимать наша логика, нам не ясны, либо они слишком сложны. В этом случае мы можем воспользоваться \term{синтаксическим} подходом к определению логики, который предполагает, что мы задаём лишь правила вывода теорем, но никак не говорим об истинности значений. Последнее упражнение в частности демонстрирует, что хоть мы и не имеем в логике Клини никаких тавтологий, это не мешает нам выводить теоремы пользуясь правилами вывода.

\begin{exercise}
Докажите, что не существует никакой тернарной логики, в которой работали бы все утверждения теоремы~1.1.
\end{exercise}

\begin{exercise}
Приведите пример четверичной логики (то есть логики, в которой помимо 1 и 0 существуют ещё некие неравные логические значения $\alpha$ и $\beta$), удовлетворяющей всем утверждениям теоремы~1.1.
\end{exercise}

Последнее упражнение демонстрирует, что одним и тем же синтаксическим правилам может соответствовать на самом деле множество семантик. Для классической логики высказываний мы в следующей главе покажем, как можно ввести бесконечное количество семантических интерпретаций, все из которых будут удовлетворять всем утверждениям теоремы~1.1. Таким образом получается, что синтаксический подход к логике оказывается в некотором смысле более богатым: даже не зная того заранее, мы всегда описываем потенциально гораздо более широкий класс возможных логик. Впрочем, есть и обратная сторона медали: в конкретной модели работать гораздо проще, чем применять только синтаксические правила преобразования формул, как мы убедились в прошлом параграфе.

Здесь нет строгого закона, но обычно логику на основе логических значений строят люди, преследующие прикладную цель, поскольку с ней проще работать и они хорошо понимают предметную область, которую собираются исследовать. Логику же на основе правил вывода строят люди, которым важна чистота и строгость выкладок безотносительно какой-либо физической интерпретации, то есть главным образом философы и математики, занимающиеся основаниями науки.

В качестве наиболее простого для восприятия конкретного примера синтаксического построения логики рассмотрим \term{модальную логику}. С точки зрения интуиции в этой логике существует три разновидности истинности: \term{необходимая истина} ($\Box p$), \term{возможная истина} ($\diamondsuit p$) и \term{фактическая истина} ($p$). Неформально это можно интерпретировать как возможность вообразить себе альтернативы. Вот, например, сегодня я очень сильно замёрз, пусть это высказывание $p$. Это фактическая истина~--- я это прочувствовал на себе, это правда. Но теоретически это могло бы быть и по-другому: например, я мог бы не торчать в Москве, а полететь на далёкие острова в эмиграцию. Поэтому нельзя сказать, что то что я сегодня мёрз весь день является какой-то необходимой истиной: могло бы быть и по-другому. В то же время если рассмотреть высказывание $q$ <<в открытом космосе нельзя дышать без скафандра>>, то это истина необходимая, поэтому мы это обозначим как $\Box q$.

Возможная истина~--- это истина, которая теоретически возможна или была бы возможна при каких-то обстоятельствах. Например, рассмотрим высказывание <<американцы первыми запустили человека в космос>>, которое обозначим как $r$. Фактически, это не правда, поэтому мы пишем $\neg r$. В то же время мы легко можем представить себе ситуацию, при которой американцы обогнали бы СССР в космической гонке: это не есть что-то предопределённое природой, это могло случиться. Поэтому мы можем так же написать $\diamondsuit r$. 

Сформулируем правила вывода модальной логики. Во-первых, они вбирают в себя все правила вывода классической логики из таблицы~1.10. Во-вторых, мы дополним их правилами для модальных операторов:

\begin{enumerate}
\item $\Box p \vdash \neg \diamondsuit \neg p$
\item $\diamondsuit p \vdash \neg \Box \neg p$
\item N-правило: если $A$~--- набор аксиом (необходимых истин) и $A\vdash p$, то $A\vdash \Box p$
\item K-правило: $\Box (p\to q) \vdash (\Box p) \to (\Box q)$
\item T-правило: $\Box p \vdash p$
\item 5-правило: $\diamondsuit p \vdash \Box \diamondsuit p$
\end{enumerate}

Рекомендую вам попытаться понять на интуитивном уровне что означает каждая из этих аксиом.

Аксиоматик модальной логики существует много разных, между ними есть маленькие и большие философские разногласия. Система аксиом, которую я привёл, называется $S5$-аксиоматикой и она наиболее часто встречается. Название это главным образом историческое, так же как и названия правил N, K, T и 5.

Возникает вопрос: а почему мы ввели именно правила вывода и сказали, что эта логика определяется синтаксически, вместо того, чтобы просто задать какие-то дополнительные логические значения и работать с ними так же как мы работали с классической логикой в самом начале этой книги? На самом деле задать какой-то набор логических значений для модальной логики было бы невозможно и мы можем это продемонстрировать.

Во-первых, двух значений было бы не достаточно в любом случае. Возьмём любое фактически истинное высказывание $p = 1$. Каким логическим значением должно обладать выражение $\Box p$? В терминах только истинности и ложности на этот вопрос явно нельзя ответить.

Аналогично можно увидеть, что нам не хватит и трёх логических значений. Если к истине и лжи добавить неопределённое значение U, и мы знаем, что истинны одновременно высказывания $p$ и $\diamondsuit \neg p$, то какое должно быть значение истинности для $\diamondsuit p$? Если считать это высказывание истинным, то мы придём к тому, что любое высказывание, начинающееся с символа $\diamond$ будет истинным. Задать его ложным было бы вроде как вообще не правильным. Если определить его за $U$, то тогда любое выражение с операторами $\diamondsuit$ или $\Box$ будет иметь это значение, что лишает модальную логику смысла.

\begin{table}[h]
\centering
\begin{tabular}{c | c c c}
$a$ & $\neg a$ & $\Box a$ & $\diamondsuit a = \neg\Box\neg a$ \\
\hline
0 & 3 & 0 & 0 \\
1 & 2 & 0 & 3 \\
2 & 1 & 0 & 3 \\
3 & 0 & 3 & 3
\end{tabular}
\caption{Попытка модальной конечнозначной логики}\label{table:kleene-or}
\end{table}

Предположим, что всё же мы можем свести модальную логику к логическим значениям, если рассмотреть четвертичную логику: 0 для необходимой ложности, 1 для возможной ложности, 2 для возможной истинности и 3 для необходимой истинности. Здесь легко поставить таблицу для таблицы истинности операторов $\Box$  и $\diamondsuit$ (таблица~1.15).

Вроде бы пока все значения кажутся логичными и сходятся. Попробуем определить таблицу истинности для $\land$ (таблица~1.16). Основная масса значений в таблице очевидна, но что делать со связкой $2\land 3$?  Их никак нельзя определить так, чтобы это соответствовало нашим интуитивным представлениям о модальности. Если $p=2$, то очевидно $p\land\neg p = 0$ по закону противоречия. В то же время если взять два независимых высказывания $p=1$ и $q=2$, то $p\land q$ хоть и непонятно чему должно быть равно, но это явно никак не 0, поскольку если оба высказывания возможно истинны и не зависимы друг от друга, то вероятно они могут быть фактически истинными и одновременно.

\begin{table}[h]
\centering
\begin{tabular}{c | c c c c}
$\land$ & 0 &1 &2 & 3 \\
\hline
0 & 0 & 0 & 0 & 0\\
1 & 0 & 1 & ? & 1\\
2 & 0 & ? & 2 & 2\\
3 & 0 & 1 & 2 & 3
\end{tabular}
\caption{Связка <<И>> в модальной логике}\label{table:kleene-or}
\end{table}

Такие рассуждения приводят нас к заключению, что для модальную логику не удастся задать кратко через таблицы истинности с конечным числом значений и нам остаются только правила вывода.

Если так же большой соблазн определить необходимо истинные предложения как утверждения, которые могут быть доказаны. Такой подход так же не срабатывает 


Самым известным примером логики, которая не описывается подобным тривиальным способом семантически, является \term{интуиционистская логика}, появившаяся в начале прошлого столетия как попытка уйти от скользких моментов классической логики. Основная идея этой логики заключается в том, чтобы пользоваться лишь теми правилами вывода, которые никак не предполагают, что каждое утверждение может быть лишь в двух состояниях: либо истинным либо ложным, а вместо этого опираться лишь на уже доказанные утверждения.

Как один из примеров давайте рассмотрим закон исключённого третьего. Классическая логика говорит, что для любого предложения $p$ либо оно само, либо $\neg p$ истинно. Предположим первое, и в этом предположении докажем некое утверждение $q$. Теперь предположим $\neg p$ и докажем отсюда некоторое предложение $r$ (оба доказательства могут быть длинными и сложными и само утверждение может быть нетривиальным). Закон исключённого третьего из классической логики утверждает, что у нас в любом случае будет истинно либо $r$ либо $q$, но это может вызвать сомнения. Что, если ни $p$ ни $\neg p$ в принципе недоказуемы в нашей системе аксиом? Тогда мы не можем доказать $p \lor \neg \neg p$, но в классической логике мы принимаем это как аксиому и доказываем отсюда теоремы. Кто-то скажет, что это нормально, а кто-то усомнится.

Подобная ситуация возникает и с двойным отрицанием. Если мы каким-то образом доказали формулу $\neg\neg p$, то в классической логике это автоматически означает истинность $\neg p$. Интуиционистская логика же предполагает, что даже при доказанной $\neg\neg p$ сама истинность $p$ может быть по-прежнему неустановленной. Максимум, что говорит доказанное $\neg\neg p$ о самом $p$, так это то что $p\neg$
